<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package implements the tools for the goodness-of-fit analysis for the probit
              model (Dungang Liu, Xiaorui Zhu, Brandon Greenwell, and Zewei Lin (2022)). This
              package can generate a point or interval measure of the surrogate $R^2$. It can
              also provide a ranking measure of each variable's contribution in terms of surrogate
              goodness-of-fit measure. This ranking assessment allows one to check the importance 
              of each variable in terms of their explained variance. It can be jointly used with other
              existing R packages for variable selection and model diagnostics in the model-building 
              process. ">
<title>Evaluating the goodness of fit using the surrogate $R^2$ • SurrogateRsq</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Evaluating the goodness of fit using the surrogate $R^2$">
<meta property="og:description" content="This package implements the tools for the goodness-of-fit analysis for the probit
              model (Dungang Liu, Xiaorui Zhu, Brandon Greenwell, and Zewei Lin (2022)). This
              package can generate a point or interval measure of the surrogate $R^2$. It can
              also provide a ranking measure of each variable's contribution in terms of surrogate
              goodness-of-fit measure. This ranking assessment allows one to check the importance 
              of each variable in terms of their explained variance. It can be jointly used with other
              existing R packages for variable selection and model diagnostics in the model-building 
              process. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">SurrogateRsq</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="surrogatersq-an-r-package-for-evaluating-the-goodness-of-fit-using-the-surrogate-r-squared">SurrogateRsq: an R Package for evaluating the goodness of fit using the surrogate R-squared<a class="anchor" aria-label="anchor" href="#surrogatersq-an-r-package-for-evaluating-the-goodness-of-fit-using-the-surrogate-r-squared"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This package implements the tools for the goodness-of-fit analysis for the probit model (Dungang Liu, Xiaorui Zhu, Brandon Greenwell, and Zewei Lin (2022)). This package can generate a point or interval measure of the surrogate <span class="math inline"><em>R</em><sup>2</sup></span>. It can also provide a ranking measure of each variable’s contribution in terms of surrogate goodness-of-fit measure. This ranking assessment allows one to check the importance of each variable in terms of their explained variance. It can be jointly used with other existing R packages for variable selection and model diagnostics in the model-building process.</p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The <code>SurrogateRsq</code> package will be available on <a href="https://CRAN.R-project.org/package=" class="external-link">SurrogateRsq CRAN</a> soon.</p>
<div class="section level3">
<h3 id="install-surrogatersq-development-version-from-github-recommended">Install <code>SurrogateRsq</code> development version from GitHub (recommended)<a class="anchor" aria-label="anchor" href="#install-surrogatersq-development-version-from-github-recommended"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install the development version from GitHub</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"XiaoruiZhu/SurrogateRsq"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="install-surrogatersq-from-the-cran">Install <code>SurrogateRsq</code> from the CRAN<a class="anchor" aria-label="anchor" href="#install-surrogatersq-from-the-cran"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install from CRAN</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"SurrogateRsq"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>The following example shows the R code for analyzing white wine-tasting data ( data(“WhiteWine”) ).The tasting dataset of white wine contains 4898 samples and 11 explanatory variables. The explanatory variables are the physicochemical features of the wine, for example, the acidity, sugar, dioxide, pH, and others. The response variable is the tasting rating score of the wine, which ranges from 0 (very bad) to 10 (excellent).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://xiaoruizhu.github.io/SurrogateRsq/">SurrogateRsq</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.stats.ox.ac.uk/pub/MASS4/" class="external-link">MASS</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"WhiteWine"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build the full model</span></span>
<span><span class="va">full_formula_white</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/formula.html" class="external-link">as.formula</a></span><span class="op">(</span><span class="va">quality</span> <span class="op">~</span> <span class="va">fixed.acidity</span> <span class="op">+</span> <span class="va">volatile.acidity</span> <span class="op">+</span> <span class="va">citric.acid</span> <span class="op">+</span> </span>
<span>                       <span class="va">residual.sugar</span> <span class="op">+</span> <span class="va">chlorides</span> <span class="op">+</span> <span class="va">free.sulfur.dioxide</span> <span class="op">+</span></span>
<span>                       <span class="va">total.sulfur.dioxide</span> <span class="op">+</span> <span class="va">density</span> <span class="op">+</span> <span class="va">pH</span> <span class="op">+</span> <span class="va">sulphates</span> <span class="op">+</span> </span>
<span>                       <span class="va">alcohol</span><span class="op">)</span></span>
<span></span>
<span><span class="va">naive_model_white</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/MASS/man/polr.html" class="external-link">polr</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">full_formula_white</span>, </span>
<span>                          data    <span class="op">=</span> <span class="va">WhiteWine</span>, </span>
<span>                          method  <span class="op">=</span> <span class="st">"probit"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># selected model</span></span>
<span><span class="va">select_model_white</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/update.html" class="external-link">update</a></span><span class="op">(</span><span class="va">naive_model_white</span>, </span>
<span>         formula. <span class="op">=</span> </span>
<span>           <span class="st">". ~ . - citric.acid - chlorides - total.sulfur.dioxide - density"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># surrogate R-squared</span></span>
<span><span class="va">surr_obj_white</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="reference/surr_rsq.html">surr_rsq</a></span><span class="op">(</span>model      <span class="op">=</span> <span class="va">select_model_white</span>,</span>
<span>           full_model <span class="op">=</span> <span class="va">select_model_white</span>, </span>
<span>           data       <span class="op">=</span> <span class="va">WhiteWine</span>, </span>
<span>           avg.num    <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span>
<span><span class="va">surr_obj_white</span><span class="op">$</span><span class="va">surr_rsq</span></span>
<span></span>
<span><span class="co"># surrogate R-squared rank table</span></span>
<span><span class="va">test_var_set_white</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"alcohol"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"volatile.acidity"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"residual.sugar"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"free.sulfur.dioxide"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sulphates"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"fixed.acidity"</span><span class="op">)</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"pH"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="va">Rank_table_white</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="reference/surr_rsq_rank.html">surr_rsq_rank</a></span><span class="op">(</span>object  <span class="op">=</span> <span class="va">select_model_white</span>, </span>
<span>                data    <span class="op">=</span> <span class="va">WhiteWine</span>,</span>
<span>                var.set <span class="op">=</span> <span class="va">test_var_set_white</span>, </span>
<span>                avg.num <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span>
<span></span>
<span><span class="va">Rank_table_white</span><span class="op">$</span><span class="va">Reduction</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="https://scales.r-lib.org/reference/percent_format.html" class="external-link">percent</a></span><span class="op">(</span><span class="va">surr_obj_white</span><span class="op">$</span><span class="va">surr_rsq</span> <span class="op">-</span> <span class="va">Rank_table_white</span><span class="op">$</span><span class="va">SurrogateR2</span>, <span class="fl">0.01</span><span class="op">)</span></span>
<span><span class="va">Rank_table_white</span></span>
<span></span>
<span><span class="co"># 95% confidence interval surrogate R-squared</span></span>
<span></span>
<span><span class="va">surr_obj_white_ci</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/surr_rsq_ci.html">surr_rsq_ci</a></span><span class="op">(</span>surr_rsq <span class="op">=</span> <span class="va">surr_obj_white</span>,</span>
<span>                                alpha     <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>                                B         <span class="op">=</span> <span class="fl">2000</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;=2)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing SurrogateRsq</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Xiaorui (Jeremy) Zhu <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-pkg.org/badges/version/" class="external-link"><img src="https://www.r-pkg.org/badges/version/SurrogateRsq"></a></li>
<li><a href="https://cran.r-project.org/web/checks/" class="external-link"><img src="https://cranchecks.info/badges/summary/SurrogateRsq" alt="CRAN checks"></a></li>
<li><a href="https://cranlogs.r-pkg.org/badges/grand-total/" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/SurrogateRsq?color=blue"></a></li>
<li><a href="https://cranlogs.r-pkg.org/badges/last-month/" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/last-month/SurrogateRsq?color=green"></a></li>
<li><a href="https://cranlogs.r-pkg.org/badges/last-week/" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/last-week/SurrogateRsq?color=yellow"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Xiaorui (Jeremy) Zhu.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
